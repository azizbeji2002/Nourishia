{% extends 'base.html.twig' %}

{% block title %}Backoffice - Commentaires{% endblock %}

{% block body %}
	<div class="container mt-5">
		<h2 class="mb-4 text-center animate__animated animate__fadeIn">
			<span class="icon-title">ðŸ’¬</span> Discussions autour de <span class="post-name">"{{ post.titre }}"</span>
		</h2>

		<hr class="title-underline animate__animated animate__fadeInUp">

		{% if commentaires is not empty %}
			<div class="comments-section animate__animated animate__fadeIn">
				{% for commentaire in commentaires %}
					{% if commentaire.nbrSignal > 5 %}
						<div class="comment-card mb-4 p-4 shadow-lg hover-effect rounded-lg bg-danger-light text-dark">
					{% else %}
						<div class="comment-card mb-4 p-4 shadow-lg hover-effect rounded-lg bg-white">
					{% endif %}
						<div class="comment-header d-flex justify-content-between align-items-center">
							<h5 class="comment-content fw-bold text-dark">{{ commentaire.contenu }}</h5>
							<span class="timestamp">{{ commentaire.dateCreation|date("d M Y, H:i") }}</span>
						</div>
						<hr>
						<div class="comment-footer d-flex justify-content-between align-items-center">
							<p class="text-muted">ðŸ”” Signalements :
								<span class="badge bg-warning">{{ commentaire.nbrSignal }}</span>
							</p>
						</div>
					</div>
				{% endfor %}
			</div>
		{% else %}
			<div class="alert alert-info text-center animate__animated animate__fadeIn">
				ðŸ“­ Aucun commentaire pour ce post.
			</div>
		{% endif %}

		<div class="mt-4 text-center">
			<a href="{{ path('backoffice') }}" class="btn btn-retour btn-custom">ðŸ”™ Retour aux posts</a>
		</div>
	</div>

	<style>
		/* Titre et mise en forme */
		.icon-title {
			font-size: 2rem;
			color: #6c5ce7; /* Violet doux */
			margin-right: 10px;
		}

		.post-name {
			font-size: 2.2rem;
			font-weight: 700;
			color: #3f51b5; /* Bleu doux */
			text-transform: uppercase;
			letter-spacing: 2px;
			background: linear-gradient(135deg, #6c5ce7, #3f51b5);
			-webkit-background-clip: text;
			color: transparent;
		}

		.title-underline {
			width: 120px;
			height: 6px;
			background: linear-gradient(135deg, #6c5ce7, #3f51b5);
			border-radius: 5px;
			margin: 0 auto 30px;
		}

		/* Commentaires */
		.comment-card {
			background: #ffffff;
			border-radius: 15px;
			box-shadow: 0 8px 25px rgba(0, 0, 0, 0.1); /* Ombrage doux */
			transition: all 0.3s ease-in-out;
			padding: 25px;
			border-left: 6px solid #6c5ce7; /* Bordure colorÃ©e */
			cursor: pointer;
		}

		.comment-card.bg-danger-light {
			background-color: #ffebee; /* Fond rouge pÃ¢le */
			border-left: 6px solid #f44336; /* Bordure rouge */
		}

		.comment-card:hover {
			transform: translateY(-10px);
			box-shadow: 0 10px 30px rgba(0, 0, 0, 0.15);
			background-color: #f5f5f5; /* Couleur douce au survol */
		}

		.comment-header {
			display: flex;
			justify-content: space-between;
			align-items: center;
			font-size: 1.2rem;
			color: #333;
			font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
		}

		.comment-footer {
			display: flex;
			justify-content: space-between;
			align-items: center;
			font-size: 1rem;
			color: #666;
		}

		.timestamp {
			font-size: 0.9rem;
			color: #9e9e9e;
			font-style: italic;
		}

		/* Badge */
		.badge.bg-warning {
			background-color: #ff9800; /* Jaune doux */
			font-weight: 700;
			padding: 8px 16px;
			border-radius: 25px;
		}

		/* Bouton Retour */
		.btn-retour {
			background: linear-gradient(135deg, #3f51b5, #00bcd4);
			color: white;
			padding: 14px 22px;
			font-size: 1.2rem;
			font-weight: 600;
			border-radius: 30px;
			box-shadow: 0 8px 15px rgba(0, 0, 0, 0.1);
			transition: all 0.3s ease;
			text-transform: uppercase;
			letter-spacing: 1px;
		}

		.btn-retour:hover {
			transform: scale(1.05);
			box-shadow: 0 10px 20px rgba(0, 0, 0, 0.15);
			background: linear-gradient(135deg, #303f9f, #00bcd4);
		}

		/* Animation Hover */
		.hover-effect {
			position: relative;
			overflow: hidden;
		}

		.hover-effect:before {
			content: '';
			position: absolute;
			top: 0;
			left: 0;
			width: 100%;
			height: 100%;
			background-color: rgba(63, 81, 181, 0.1); /* Bleu doux en survol */
			transform: scale(0);
			transition: transform 0.4s ease;
		}

		.hover-effect:hover:before {
			transform: scale(1);
		}
	</style>

	<link href="https://cdn.jsdelivr.net/npm/animate.css@4.1.1/animate.min.css" rel="stylesheet">
{% endblock %}
